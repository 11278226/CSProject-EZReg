@model EZ_Regulatory3.Models.SurveyAnswer

@{
    ViewBag.Title = "Details";
}

<h2>Details for @ViewBag.UserName</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>Survey</legend>
<table> 
    <tr> 
        <th>Question</th> 
        <th>Answer</th> 
        <th>Comment</th> 
    </tr>
@for(int i=0; i<Model.Answers.Count();i++) {
    EZ_Regulatory3.Models.Answer answer = Model.Answers.ElementAt(i);
    List<EZ_Regulatory3.Models.Question> questions = ViewBag.Questions;
    EZ_Regulatory3.Models.Question question = questions.ToList()
        .Where(j => j.QuestionID == answer.QuestionID)
                .Single();
    <tr>
            <td class="editor-label">
                @Html.DisplayFor(model => question.Title)
            </td>
            <td class="editor-label">
                @Html.EditorFor(model => answer.QuestionAnswer)
                @Html.ValidationMessageFor(model => answer.QuestionAnswer)
            </td>
            <td class="editor-label">
                @Html.EditorFor(model => answer.QuestionComment)
                @Html.ValidationMessageFor(model => answer.QuestionComment)
            </td>
    </tr>
        }
    </table>
        <p>
            <input type="submit" value="Save" />
        </p>
    </fieldset>
}

<p>
    @Html.ActionLink("Back to List", "Index")
</p>
